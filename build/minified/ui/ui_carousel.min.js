!function(){"use strict";function e(e,i){function n(){return e.children.length>1?UI.error("Multiple children found, forgot to add a wrapper?"):(c.wrapper=e.children[0],i.navigation&&r(),1!==i.items&&a(),i.delay&&!i.loop&&(i.loop=1),void t())}function t(){return i.delay?(clearTimeout(p),void(p=setTimeout(function(){o.next()},i.delay))):!1}function r(){var n;switch(i.navigation){case 2:for(c.list=UI.create("ul"),n=0;n<c.wrapper.children.length;++n)c.list.appendChild(UI.create("li"));e.appendChild(c.list);case 1:e.appendChild(c.previous=UI.create("span","previous")),e.appendChild(c.next=UI.create("span","next"))}l()}function l(){if(c.previous.addEventListener("click",o.previous),c.next.addEventListener("click",o.next),c.list){var e,i=c.list.querySelectorAll("li"),n=function(e){return function(){o.jump(e)}};for(e=0;e<i.length;++e)i[e].addEventListener("click",n(e))}}function a(){for(var e,n=c.wrapper.children,t=n.length-1,r=0;t>=r;)r%i.items===0&&(e=document.createElement("div"),e.className="slide",c.wrapper.appendChild(e)),e.appendChild(n[0]),++r}var p,o=this,c={},d=0,s={navigation:1,loop:0,delay:0,items:1,type:"left"};i=UI.combine(s,i),o.previous=function(){o.slide(-1)},o.next=function(){o.slide(1)},o.slide=function(n){var r=c.wrapper.children[0].offsetWidth;return t(),!i.loop&&(1===n&&d>=c.wrapper.children.length-1||-1===n&&0===d)?!1:(d=(d+n)%c.wrapper.children.length,i.loop&&0>d&&(d+=c.wrapper.children.length),c.wrapper.style["margin"+i.type.charAt(0).toUpperCase()+i.type.slice(1)]=-(d*r)+"px",void(e.className=e.className.replace(/slide[0-9]+/g,"").trim()+" slide"+d))},o.jump=function(e){o.slide(e-d)},n()}UI.register("carousel",e)}();